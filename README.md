# H1 Motion Creator

Веб-интерфейс для создания и редактирования файлов движений робота H1 с использованием Docker.

## Функциональность

- 3D визуализация робота H1 с возможностью вращения и масштабирования
- Блочный редактор кода для создания последовательности движений
- Сохранение файлов движений в формате .cpp
- Поддержка всех стандартных движений из шаблона
- Контейнеризация с помощью Docker для простой установки и запуска

## Требования

- Ubuntu 20.04 или новее
- Docker и Docker Compose
- Доступ к камере (опционально)

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/BeGosha-git/control_robot.git
cd control_robot
```

2. Запустите скрипт установки:
```bash
sudo ./install.sh
```

3. Перезагрузите систему:
```bash
sudo reboot
```

## Запуск

После установки и перезагрузки запустите приложение:
```bash
sudo ./start_h1.sh
```

Приложение будет доступно по адресам:
- Frontend: http://localhost
- Backend API: http://localhost:3001

## Установка как системный сервис

Для автоматического запуска при старте системы:
```bash
sudo ./install_service.sh
```

Управление сервисом:
```bash
sudo systemctl start h1-docker    # запуск
sudo systemctl stop h1-docker     # остановка
sudo systemctl status h1-docker   # статус
sudo systemctl disable h1-docker  # отключение автозапуска
```

## Использование

1. В левой части экрана находится 3D модель робота H1:
   - Используйте правую кнопку мыши для вращения модели
   - Колесико мыши для масштабирования
   - Среднюю кнопку мыши для перемещения

2. В правой части экрана находится редактор движений:
   - Нажмите "Добавить блок" для создания нового блока движения
   - В каждом блоке можно указать:
     - Название движения
     - Длительность в миллисекундах
     - Код движения
   - Используйте кнопку "Сохранить" для сохранения файла

3. Сохраненные файлы движений будут находиться в директории `/home/unitree/control_robot/backend/motions/`

## Структура проекта

```
.
├── frontend/              # React приложение
│   ├── src/              # Исходный код
│   ├── Dockerfile        # Конфигурация Docker для фронтенда
│   └── nginx.conf        # Конфигурация Nginx
├── backend/              # Node.js сервер
│   ├── src/             # Исходный код
│   ├── Dockerfile       # Конфигурация Docker для бэкенда
│   └── package.json     # Зависимости Node.js
├── docker-compose.yml    # Конфигурация Docker Compose
├── install.sh           # Скрипт установки
├── start_h1.sh         # Скрипт запуска
├── install_service.sh   # Скрипт установки системного сервиса
└── README.md
```

## Разработка

### Локальная разработка без Docker

1. Запустите бэкенд:
```bash
cd backend
npm install
npm start
```

2. В отдельном терминале запустите фронтенд:
```bash
cd frontend
npm install
npm start
```

### Разработка с Docker

1. Сборка и запуск контейнеров:
```bash
docker-compose up --build
```

2. Просмотр логов:
```bash
docker-compose logs -f
```

3. Остановка контейнеров:
```bash
docker-compose down
```

## Сетевая настройка

Для работы с роботом может потребоваться настройка маршрутизации:
```bash
sudo ip route add default via 192.168.123.1
```

## Лицензия

MIT

---

**Проект поддерживает кроссплатформенную работу (Windows, Linux) через Docker.**






**НЬЮАНСЫ**

sudo ip route add default via 192.168.123.1
